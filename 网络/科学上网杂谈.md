Q: 本地不安装任何 代理客户端， 如何科学上网。

背景、前提：

- 类似于 **透明代理** 的概念，但是涉及到网络架构的调整。
- 重点是数据在公网到达 VPS 流量不被检测，方式是加密，可以通过 **隧道技术** 来实现这点。
  - 利用操作系统内置支持 VPN技术，但是 VPN 流量特征明显，容易被 DPI （深度包检测技术）识别。
  - SSH 隧道方式，需要有 OpenSSH 客户端。
  - **TLS/SSL 隧道**， 类似于HTTPS方式。可以使用 Squid配合stunnel或HAProxy 实现这点。
  - DoH 或者 DoT，加密DNS查询。

```

client ======-=======>  proxy =========>  访问目的地
            公网                  外网
要求： 1. 公网看不到流量内容，只能看到报头（流量频繁访问某个iP）。
	  2. 隐藏真实的代理IP，即报头也隐藏掉。
```



方案：

 TLS/SSL 隧道方式。具体是 Squid配合stunnel。

问题： 为什么要  Squid配合stunnel

- Squid 不直接支持建立完全的加密隧道。
- 使用 stunnel 作为前置服务器来 SSL/TLS加密。
- 客户端只需要配置网络，指向一个 HTTPS的代理。
  - 使用SSL加密，客户端保证 对应的CA的根证书。





