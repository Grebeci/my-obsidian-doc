#### 软件分发

源代码编译安装、二进制包、包管理系统（PMS）。

#### 软件仓库

软件源



#### 软件包管理系统（PMS）

- 重要概念：软件包，依赖关系，仓库，元数据，安装和卸载。
- 不同的 `Linux` 有不同的 PMS，软件包格式也不同。



**底层包管理器**：

- **`dpkg`（用于 Debian 系）**：处理 `.deb` 软件包的安装、卸载和查询等基本操作。
- **`rpm`（用于 Red Hat 系）**：处理 `.rpm` 软件包的基本操作。

- **特点**：功能底层，直接与软件包交互，但不自动处理依赖关系，也不从远程仓库下载软件包。

**前端工具**：

- **`apt`（用于 Debian 系）**：建立在 `dpkg` 之上，自动处理依赖关系，从网络仓库获取软件包。
- **`yum`  （）和 `dnf`（用于 Fedora 和新版的 CentOS 和 RHEL））**：建立在 `rpm` 之上，提供类似的高级功能。
- **`pacman`（用于 Arch Linux）**：既是底层包管理器，也是前端工具，功能集成。





#### Yum/DNF（Red Hat系）

文档： [Chapter 8. Yum | Red Hat Product Documentation](https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6/html/deployment_guide/ch-yum)

##### 1. RPM 包

- 主要用于 Red Hat、CentOS 和 Fedora，使用 `.rpm` 包格式。

```shell
# install
rpm -ivh 包全名

#Upgrade
rpm -Uvh   包全名 

# 卸载
rpm -e 包名（不是包全名）

# 软件包是否被安装。
rpm -q 包名

# 系统中所有已经安装的软件包，或者特定的包是否被安装
rpm -qa | grep xxx 
```

注： 首次安装需要包全名，其他包名即可

- RPM 包查找 [Rpmfind mirror](https://rpmfind.net/)



##### 2. Yum 包管理器

- 重要概念 ：`yum` 源，`yum源` 配置文件保存在`/etc/yum.repos.d/` 目录中，文件扩展名是 `*.repo`

```
/etc/yum.repos.d/CentOS-Base.repo   CentOS 官方的基础仓库

/etc/yum.repos.d/epel.repo         （Extra Packages for Enterprise Linux）仓库提供了额外的、非官方的软件包，这些软																			件包并不包含在标准的 CentOS 仓库中。
/etc/yum.repos.d/epel-testing.repo  这个仓库包含了处于测试阶段的 EPEL 包。
```

- 重要配置

```
  [repositoryid]：
  存储库的唯一标识符。在方括号内，例如 [base]。
  
  name：
  存储库的描述性名称，例如 CentOS-$releasever - Base。
  
  baseurl：
  存储库的基础 URL，指明了 Yum 可以从哪里获取软件包，例如 http://mirror.centos.org/centos/$releasever/os/$basearch/
  
  mirrorlist : 镜像URL
  
  enable:
  enable=1或者enable=0
  
  gpgcheck=1
  gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
  gpg验证
```

**yum 命令**

```
# 安装、升级、卸载软件包
yum install 包名 -y

yum update  包名 -y

yum remove  包名 -y
```

```
# 下载 rpm 文件，然后使用yum 本地安装
yum install -y  *.rpm
```



```
# 展示 Yum 服务器上所有可能安装的包列表
yum list 

# 查询 Yum 服务器上是否有特定的包
yum list 包名
yum info 包名

# 搜索 Yum 源服务器上所有和关键字相关的软件包
yum search 关键字

关键字可以是特定的命令，利用这点可以搜特定的命令需要安装哪些包
```



#### **APT (Debian 系)**：

文档

- [Debian APT 入门指南](https://wiki.debian.org/Apt)
- [Ubuntu APT 文档](https://help.ubuntu.com/community/AptGet/Howto)



##### apt 包管理器

- 使用 `.deb` 包格式

- 关键概念 ： APT源，配置文件在 `/etc/apt/sources.list` 文件及 `/etc/apt/sources.list.d/` 目录下的其他文件中定义。 

  参考 :[SourcesList](https://help.ubuntu.com/community/SourcesList) 。



## 发行版

[Debian 参考手册](https://www.debian.org/doc/manuals/debian-reference/)



